<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Array</title>

        <script>
            //5. Array

            //이미 배열수업에 거의 대부분 소개..
            var arr= new Array(10,20,30);
            document.write( arr +'<br>');
            document.write( arr.toString() +'<br>');

            //배열의 주요 메소드
            //1) 배열 붙이기
            var arr1= [3,4,5];
            var arr2= arr.concat(arr1); //원본은 안바뀜
            document.write(arr +"<br>");
            document.write(arr1 +"<br>");
            document.write(arr2 +"<br>");

            //2) indexOf
            document.write(arr.indexOf() +"<br>");
            document.write(arr.indexOf(30) +"<br>");//만약 같은 값이 있다며 앞번호.
            document.write(arr.indexOf(10, 1) +"<br>");//2번째 파라미터 : 그 번호 이후부터 검색

            //3) push, pop(stack구조) : 배열요소개수가 변경됨.
            var stack= [1,2,3,4,5,6];
            document.write(stack +"<br>");

            stack.push(10); //새로운값 삽입. 마지막 위치
            document.write(stack +"<br>");

            var a= stack[6];
            document.write(a +"<br>");
            document.write(stack +"<br>");

            var a= stack.pop(); //마지막요소가 나옴 [FILO구조]
            document.write(a +"<br>");
            document.write(stack +"<br>");

            //4) push, shift(Queue)
            var queue= [1,2,3,4,5,6];
            queue.push(10); //마지막에 추가
            document.write(queue +"<br>");

            var a= queue.shift(); //첫번째요소가 빠져나옴
            document.write(a +"<br>");
            document.write(queue +"<br>");

            //5) sort
            var arr= [3,4,5,8,1,6,7];
            arr.sort();
            document.write(arr+"<br>");

            //두자수 일때 문제 발생..why .. 알바펫 순이라서..
            var arr= [3,4,15,48,754,1234,67,7];
            arr.sort();
            document.write(arr+"<br>");

            //해결하려면... sort()파라미터에 '정렬기준 함수' 를 넣어줌
            arr.sort(  function(a,b){return a-b}  ); //오름차순
            document.write(arr+"<br>");

            arr.sort(  function(a,b){return b-a}  ); //내림차순
            document.write(arr+"<br>");

            //알파벳을 기본적으로 오름차순
            var arr= ['abc','aab','bsc','adsf','asdf'];
            arr.sort();
            document.write(arr+"<br>");

            //내림차순 지정함수
            var desc= function(a,b){
                if( a>b ) return -1;
                if( b>a ) return 1;
                return 0;
            }

            arr.sort( desc );//위에서 만든 정렬지정함수 전달 
            document.write(arr+"<br>");

            //한글도 정렬됨
            var arr=['문재인','이문세','홍길동','김말순','홍리나'];
            arr.sort();
            document.write(arr+"<br>");

            //6) slice - 배열의 일부분을 잘라서 새로운 배열 리턴
            var arr=[10,20,30,40,50,60,70,80,90];
            var arr1= arr.slice(3); //3번 방부터 잘라서 새로운 배열 리턴
            document.write(arr+"<br>");
            document.write(arr1+"<br>");

            var arr1= arr.slice(3, 6); //3번~6번전까지 잘라서 리턴
            document.write(arr+"<br>");
            document.write(arr1+"<br>");

            //7) join - 배열의 요소를 특정문자를 구분자로 하여 하나의 문자열로 리턴 [ String의 split의 정반대]
            var arr=["aa","bb","cc"];
            var str= arr.join('&!');
            document.write(str+"<br>");

            //8) filter - 지정함수 이용[sort와 같음]
            var arr=[1,2,3,4,5,2,7,4,1,-5,-7,3.14];
            var arr2= arr.filter(  function(e){return e>3;}  ); //배열요소 중에 3보다 큰것만..
            document.write(arr2+"<br>");

            //복잡한 지정함수
            var filter= function(e, index, array){//첫번째:요소, 두번재:인덱스번호, 세번째:배열객체
                //요소값이 3보다 크고 index가 5보다 큰
                // return (e>3 && index>5);
                //요소값이 3보다 크고 index가 5보다 크고 배열길이가 7보다클때
                return (e>3 && index>5 && array.lenght>7);
            }

            var arr2= arr.filter(filter);
            document.write(arr2+"<br>");

            //2차원배열
            var arr=[
                [10,20,30],
                ["aaa","bbb","ccc"],
                [new Date(), new Array(), new Number()]
            ];

            document.write(arr+"<br>");

            document.write('<hr>');
            // 추가된 기능들///////////////////////
            // ECMAscript5에서 새로 추가된 기능들 ///////
            var aa= [10,20,30,40,50];

            // 각각의 배열요소에 접근할 때 마다 파라미터인 콜백함수가 실행됨
            // 배열의 길이만큼 콜백함수가 실행됨!!!!
            aa.forEach( function(value, index, array){ 
                    document.write(value+", "+index+", "+array.length+"<br>");
                });


            // forEach()와 매우 비슷한 map()메소드
            // 각각의 배열요소에 접근할때 마다 콜백함수가 실행되고!! forEach와 다르게 함수에 return이 존재함!!- 이 return된 값들이 다시 새로운 배열을 만들어냄!!
            var bb= aa.map( function(value, index, array){
                return value + index;
            });
            document.write(bb +"<br>");

            //map()메소드는 예를 들어 요소의 값을 모두 1씩 증가시켜!! 등의 작업에 사용가능함
            var cc=aa.map( function(value){ return "<h2>"+(value+1)+"</h2>";}  );
            document.write(cc +"<br>");

            document.write('<hr>');
            // js객체 -> json 문자열 변환!!
            var person= {
                name:"sam",
                age:20,
                male:true,
                test:{aaa:"aa", bbb:"bb"},

                //메소드는??
                show:function(){
                    document.write(this.name);
                }
            }

            //객체->json [메소드는 json문자열로 변환되지 않음]
            var json= JSON.stringify(person);
            document.write( json+"<br>");

            //json-> 객체
            var car= JSON.parse('{"name":"bmw","model":520,"color":"red"}');
            document.write( car.name+", "+ car.model+", "+ car.color+"<br>");





        </script>


    </head>
    <body>
        
    </body>
</html>